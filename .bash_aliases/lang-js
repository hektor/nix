# shellcheck shell=bash
# vim: set ft=bash :

alias js="node"
alias ts="ts-node"

yarn() {
  if [[ -f "package-lock.json" ]]; then
    echo "WARNING: package-lock.json exists"
    read -p "Are you sure you want to run yarn? [y/N] " -n 1 -r
    echo
    if [[ $REPLY =~ ^[Yy]$ ]]; then
      command yarn "$@"
    else
      echo "Aborted"
    fi
  else
    command yarn "$@"
  fi
}

npm() {
  if [[ -f "yarn.lock" ]]; then
    echo "WARNING: yarn.lock exists"
    read -p "Are you sure you want to run npm? [y/N] " -n 1 -r
    echo
    if [[ $REPLY =~ ^[Yy]$ ]]; then
      command npm "$@"
    else
      echo "Aborted"
    fi
  else
    command npm "$@"
  fi
}
